{"version":3,"sources":["script.js"],"names":["menuToggle","document","querySelector","onclick","evt","parentElement","pageDownBtn","getElementById","hash","substring","scrollIntoView","behavior","catalogMasonry","msnry","Masonry","gutter","transitionDuration","filter","filterToggle","filterClose","filterDropdown","filterFieldBtns","querySelectorAll","filterOverlay","classList","contains","elementToggle","length","i","preventDefault","filterFieldsClose","elementClose","_loop","filterRange","filterRangeInputs","filterRangeTooltipsFormat","to","val","concat","Math","round","from","Number","replace","create","start","range","max","step","noUiSlider","on","values","handle","value","_loop2","onchange","setHandle","this","onreset","reset","productGallery","Glide","type","classes","mount","elmnt","cls","elementOpen","add","remove","window","setTimeout","list","cssAnimationReset","offsetWidth"],"mappings":"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","file":"script.min.js","sourcesContent":["// Оживление мобильного меню\nconst menuToggle = document.querySelector(`.header__toggle a`);\n\nif (menuToggle) {\n  menuToggle.onclick = (evt) => {\n    evt.preventDefault();\n    elementToggle(menuToggle.parentElement, `header__toggle`);\n  };\n}\n\n// Плавная прокрутка к якорю\nconst pageDownBtn = document.querySelector(`.hero__down`);\n\nif (pageDownBtn) {\n  pageDownBtn.onclick = (evt) => {\n    evt.preventDefault();\n    document.getElementById(pageDownBtn.hash.substring(1)).scrollIntoView({behavior: `smooth`});\n  };\n}\n\n// Создание сетки Masonry\nconst catalogMasonry = document.querySelector(`.catalog--masonry .catalog__list`);\n\nif (catalogMasonry) {\n  const msnry = new Masonry(catalogMasonry, {\n    itemSelector: `.card`,\n    gutter: 30,\n    fitWidth: true,\n    transitionDuration: 0\n  });\n}\n\n// Оживление фильтра каталога\nconst filter = document.getElementById(`filter`);\n\nif (filter) {\n  const filterToggle = filter.querySelector(`.filter__select`);\n  const filterDropdown = filter.querySelector(`.filter__dropdown`);\n  const filterClose = filterDropdown.querySelector(`.filter__close`);\n  const filterOverlay = filter.querySelector(`.filter__overlay`);\n  const filterFieldBtns = filterDropdown.querySelectorAll(`.filter__field-title button`);\n\n  // Появление и закрытие выпадающего списка\n  filterToggle.onclick = (evt) => {\n    evt.preventDefault();\n\n    if (filter.classList.contains(`filter--opened`)) {\n      filterFieldsClose(filterFieldBtns, `filter__field-title`);\n    }\n\n    elementToggle(filter, `filter`);\n  };\n\n  // Закрытие выпадающего списка\n  for (let i = 0; i < [filterClose, filterOverlay].length; i++) {\n    [filterClose, filterOverlay][i].onclick = (evt) => {\n      evt.preventDefault();\n      filterFieldsClose(filterFieldBtns, `filter__field-title`);\n      elementClose(filter, `filter`);\n    };\n  }\n\n  // Появление и закрытие полей формы выпадающего списка\n  for (let i = 0; i < filterFieldBtns.length; i++) {\n    filterFieldBtns[i].onclick = (evt) => {\n      evt.preventDefault();\n      elementToggle(filterFieldBtns[i].parentElement, `filter__field-title`);\n    };\n  }\n\n  // Оживление слайдера цены фильтра\n  const filterRange = filterDropdown.querySelector(`.filter__price-range`);\n  const filterRangeInputs = filterDropdown.querySelectorAll(`.filter__price-input`);\n  const filterRangeTooltipsFormat = {\n    to(val) {\n      return `$ ${Math.round(val)}`;\n    },\n    from(val) {\n      return Number(val.replace(/\\$/, ``));\n    }\n  };\n\n  noUiSlider.create(filterRange, {\n    start: [0, 300],\n    range: {\n      'min': 0,\n      'max': 300\n    },\n    step: 1,\n    connect: true,\n    tooltips: [filterRangeTooltipsFormat, filterRangeTooltipsFormat]\n  });\n\n  // Связь слайдера цены с полями ввода\n  filterRange.noUiSlider.on(`update`, (values, handle) => {\n    filterRangeInputs[handle].value = Math.round(values[handle]);\n  });\n\n  for (let i = 0; i < filterRangeInputs.length; i++) {\n    filterRangeInputs[i].onchange = function () {\n      filterRange.noUiSlider.setHandle(i, this.value);\n    };\n  }\n\n  filterDropdown.onreset = () => {\n    filterRange.noUiSlider.reset();\n  };\n}\n\n// Оживление галереи продукта\nif (document.querySelector(`.product__gallery-inner`)) {\n  const productGallery = new Glide(`.product__gallery-inner`, {\n    type: `carousel`,\n    classes: {\n      activeNav: `product__gallery-preview--active`\n    }\n  }).mount();\n}\n\n// Появление и закрытие элемента\nfunction elementToggle(elmnt, cls) {\n  if (elmnt.classList.contains(`${cls}--opened`)) {\n    elementClose(elmnt, cls);\n  } else {\n    elementOpen(elmnt, cls);\n  }\n}\n\n// Появление элемента\nfunction elementOpen(elmnt, cls) {\n  elmnt.classList.add(`${cls}--opened`);\n}\n\n// Закрытие элемента\nfunction elementClose(elmnt, cls) {\n  cssAnimationReset(elmnt, `${cls}--opened`);\n  elmnt.classList.add(`${cls}--closing`);\n  elmnt.classList.remove(`${cls}--opened`);\n\n  window.setTimeout(() => {\n    elmnt.classList.remove(`${cls}--closing`);\n  }, 500);\n}\n\n// Закрытие полей формы выпадающего списка\nfunction filterFieldsClose(list, cls) {\n  for (let i = 0; i < list.length; i++) {\n    if (list[i].parentElement.classList.contains(`${cls}--opened`)) {\n      elementClose(list[i].parentElement, cls);\n    }\n  }\n}\n\n// Сброс CSS-анимации\nfunction cssAnimationReset(elmnt, cls) {\n  elmnt.classList.remove(cls);\n  void elmnt.offsetWidth;\n  elmnt.classList.add(cls);\n}\n"]}